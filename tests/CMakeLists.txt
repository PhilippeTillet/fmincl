foreach(PROG minimize)
    add_executable(${PROG}-test-eigen ${PROG}.cpp)
    target_link_libraries(${PROG}-test-eigen)
    add_test(${PROG}-eigen ${PROG}-test-eigen)
     set_target_properties(${PROG}-test-eigen PROPERTIES COMPILE_FLAGS "-DFMINCL_WITH_EIGEN")
endforeach(PROG)

foreach(PROG minimize)
    add_executable(${PROG}-test-viennacl ${PROG}.cpp)
    target_link_libraries(${PROG}-test-viennacl ${OPENCL_LIBRARIES})
    add_test(${PROG}-test ${PROG}-test-viennacl)
     set_target_properties(${PROG}-test-viennacl PROPERTIES COMPILE_FLAGS "-DFMINCL_WITH_VIENNACL -DVIENNACL_WITH_OPENCL")
endforeach(PROG)
